{
  "id": "/mom-4",
  "cmd": "cd $MESOS_SANDBOX && LIBPROCESS_PORT=$PORT1 && /marathon/bin/start --checkpoint --decline_offer_duration \"120000\" --event_stream_max_outstanding_messages \"1024\" --executor \"//cmd\" --failover_timeout \"604800\" --http_compression  --launch_token_refresh_interval \"30000\" --launch_tokens \"100\" --leader_proxy_connection_timeout \"5000\" --leader_proxy_read_timeout \"10000\" --local_port_max \"20000\" --local_port_min \"10000\" --mesos_bridge_name \"mesos-bridge\" --min_revive_offers_interval \"5000\" --offer_matching_timeout \"3000\" --on_elected_prepare_timeout \"180000\" --reconciliation_initial_delay \"15000\" --reconciliation_interval \"600000\" --revive_offers_repetitions \"3\" --scale_apps_initial_delay \"15000\" --scale_apps_interval \"300000\" --store_cache --task_launch_confirm_timeout \"1800000\" --task_launch_timeout \"1800000\" --task_lost_expunge_initial_delay \"300000\" --task_lost_expunge_interval \"30000\" --task_reservation_timeout \"900000\"  --zk_compression --zk_compression_threshold \"65536\" --zk_connection_timeout \"10000\" --zk_max_node_size \"1024000\" --zk_max_versions \"50\" --zk_session_timeout \"10000\" --zk_timeout \"10000\" --default_accepted_resource_roles \"*\" --enable_features \"vips,task_killing,external_volumes,secrets,gpu_resources\" --gpu_scheduling_behavior \"restricted\" --framework_name mom-4 --hostname $LIBPROCESS_IP --http_port $PORT0 --master zk://master.mesos:2181/mesos --max_instances_per_offer 100 --mesos_leader_ui_url /mesos  --suppress_offers --metrics_statsd --metrics_statsd_host \"$STATSD_UDP_HOST\" --metrics_statsd_port \"$STATSD_UDP_PORT\" --mesos_role mom-4  --zk zk://master.mesos:2181/universe/mom-4 --mesos_authentication --mesos_authentication_principal marathon_user_ee",
  "cpus": 2,
  "mem": 2048,
  "disk": 0,
  "instances": 1,
  "user": "root",
  "constraints": [
    [
      "hostname",
      "UNIQUE"
    ]
  ],
  "container": {
    "type": "MESOS",
    "docker": {
      "image": "mesosphere/marathon-dcos-ee:v1.8.131_1.12.1",
      "pullConfig": {
        "secret": "config-json"
      },
      "privileged": false,
      "forcePullImage": false
    },
    "volumes": []
  },
  "env": {
    "JVM_OPTS": "-Xms256m -Xmx4g",
    "DCOS_STRICT_SECURITY_ENABLED": "true",
    "DCOS_SERVICE_ACCOUNT_CREDENTIAL": {
      "secret": "service-account"
    },
    "MESOS_AUTHENTICATEE": "com_mesosphere_dcos_ClassicRPCAuthenticatee",
    "MESOS_MODULES": "{\"libraries\":[{\"file\":\"/opt/libmesos-bundle/lib/libdcos_security.so\",\"modules\":[{\"name\":\"com_mesosphere_dcos_ClassicRPCAuthenticatee\"}]}]}",
    "CONTAINER_LOGGER_LOGROTATE_MAX_STDOUT_SIZE": "100MB",
    "CONTAINER_LOGGER_LOGROTATE_MAX_STDERR_SIZE": "100MB",
    "CONTAINER_LOGGER_LOGROTATE_STDOUT_OPTIONS": "rotate 100",
    "CONTAINER_LOGGER_LOGROTATE_STDERR_OPTIONS": "rotate 100",
    "LIBPROCESS_SSL_ENABLED": "true",
    "LIBPROCESS_SSL_SUPPORT_DOWNGRADE": "false",
    "LIBPROCESS_SSL_REQUIRE_CERT": "false",
    "LIBPROCESS_SSL_VERIFY_CERT": "false",
    "PLUGIN_ACS_URL": "https://master.mesos",
    "PLUGIN_AUTHN_MODE": "dcos/jwt",
    "PLUGIN_FRAMEWORK_TYPE": "marathon"
  },
  "labels": {
    "DCOS_SERVICE_SCHEME": "http",
    "DCOS_SERVICE_NAME": "mom-4",
    "DCOS_SERVICE_PORT_INDEX": "0"
  },
  "healthChecks": [
    {
      "path": "/ping",
      "protocol": "HTTP",
      "portIndex": 0,
      "gracePeriodSeconds": 1800,
      "intervalSeconds": 10,
      "timeoutSeconds": 5,
      "maxConsecutiveFailures": 3,
      "ignoreHttp1xx": false
    }
  ],
  "secrets": {
    "service-account": {
      "source": "service-credentials"
    },
    "config-json": {
      "source": "docker-credentials"
    }
  },
  "portDefinitions": [
    {
      "port": 10000,
      "name": "http"
    },
    {
      "port": 10001,
      "name": "libprocess"
    }
  ],
  "requirePorts": true
}
